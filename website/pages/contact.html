<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/website/assets/images/logo.png" />
  <title>Contact | 100 Days of Web Dev</title>
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  
  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  
  <!-- Main Stylesheet -->
  <link rel="stylesheet" href="../styles/index.css" />
  
  <!-- Contact Page Specific Styles -->
  <link rel="stylesheet" href="../styles/pages/contact.css" />
  
  <script src="../scripts/components/sidebar-loader.js"></script>
</head>

<body>
  <!-- Header will be loaded by sidebar-loader -->
  
  <main class="container">
    <div class="contact-wrapper">
      <!-- Header with GSAP animation -->
      <div class="contact-header animate-header">
        <div class="header-badge">
          <span class="badge-text">ðŸ“¬ Let's Connect</span>
        </div>
        <h1 class="hero-title">
          <span class="title-line">Get In</span>
          <span class="title-line accent">Touch</span>
        </h1>
        <p class="hero-subtitle">
          Have a question or want to collaborate? We'd love to hear from you. 
          Send us a message and we'll respond as soon as possible.
        </p>
        <div class="header-decoration">
          <span class="decoration-dot"></span>
          <span class="decoration-dot"></span>
          <span class="decoration-dot"></span>
        </div>
      </div>

      <!-- Contact Content with GSAP stagger -->
      <div class="contact-content">
        <!-- Contact Information Cards -->
        <div class="contact-info-col animate-cards">
          <h2 class="column-title">Contact Information</h2>
          
          <div class="info-card" data-delay="0.1">
            <div class="card-icon">
              <i class="fas fa-envelope"></i>
              <div class="icon-glow"></div>
            </div>
            <div class="card-content">
              <h3>Email</h3>
              <p>
                <a href="mailto:contact@100daysofwebdev.com" class="contact-link">
                  contact@100daysofwebdev.com
                </a>
              </p>
              <span class="card-action">Send email â†’</span>
            </div>
          </div>

          <div class="info-card" data-delay="0.2">
            <div class="card-icon">
              <i class="fas fa-map-marker-alt"></i>
              <div class="icon-glow"></div>
            </div>
            <div class="card-content">
              <h3>Location</h3>
              <p>Remote â€¢ Global</p>
              <span class="card-action">Anywhere â†’</span>
            </div>
          </div>

          <div class="info-card" data-delay="0.3">
            <div class="card-icon">
              <i class="fas fa-clock"></i>
              <div class="icon-glow"></div>
            </div>
            <div class="card-content">
              <h3>Response Time</h3>
              <p>24-48 hours</p>
              <span class="card-action">Fast reply â†’</span>
            </div>
          </div>

          <!-- Social Links with hover animations -->
          <div class="social-section">
            <h3 class="social-title">Follow Us</h3>
            <div class="social-grid">
              <a href="https://github.com/Shubham-cyber-prog/100-Days-Of-Web-Development-ECWoC26" 
                 target="_blank" class="social-link" title="GitHub">
                <i class="fab fa-github"></i>
                <span class="social-tooltip">GitHub</span>
              </a>
              <a href="https://twitter.com/" target="_blank" class="social-link" title="Twitter">
                <i class="fa-brands fa-x-twitter"></i>
                <span class="social-tooltip">Twitter</span>
              </a>
              <a href="https://discord.gg/SW7puwEm" target="_blank" class="social-link" title="Discord">
                <i class="fab fa-discord"></i>
                <span class="social-tooltip">Discord</span>
              </a>
              <a href="#" class="social-link" title="LinkedIn">
                <i class="fab fa-linkedin"></i>
                <span class="social-tooltip">LinkedIn</span>
              </a>
            </div>
          </div>
        </div>

        <!-- Premium Contact Form -->
        <div class="contact-form-col animate-form">
          <div class="form-header">
            <h2 class="form-title">Send a Message</h2>
            <div class="form-status">
              <span class="status-dot"></span>
              <span class="status-text">We're active</span>
            </div>
          </div>
          
          <!-- Message Box for Success/Error -->
          <div id="messageBox" class="message-box">
            <i class="fas fa-check-circle"></i>
            <span id="messageText"></span>
          </div>

          <form id="contactForm" class="premium-form">
            <div class="form-group">
              <label class="form-label">
                Your Name <span class="required">*</span>
              </label>
              <div class="input-wrapper">
                <i class="fas fa-user input-icon"></i>
                <input type="text" 
                       name="name" 
                       class="form-input" 
                       placeholder="John Doe" 
                       required 
                       minlength="2" />
                <div class="input-highlight"></div>
                <div class="validation-icons">
                  <i class="fas fa-check-circle valid-icon"></i>
                  <i class="fas fa-exclamation-circle invalid-icon"></i>
                </div>
              </div>
              <span class="error-message">Please enter your name (min. 2 characters)</span>
              <div class="char-hint"></div>
            </div>

            <div class="form-group">
              <label class="form-label">
                Email Address <span class="required">*</span>
              </label>
              <div class="input-wrapper">
                <i class="fas fa-envelope input-icon"></i>
                <input type="email" 
                       name="email" 
                       class="form-input" 
                       placeholder="john@example.com" 
                       required />
                <div class="input-highlight"></div>
                <div class="validation-icons">
                  <i class="fas fa-check-circle valid-icon"></i>
                  <i class="fas fa-exclamation-circle invalid-icon"></i>
                </div>
              </div>
              <span class="error-message">Please enter a valid email address</span>
            </div>

            <div class="form-group">
              <label class="form-label">
                Subject <span class="required">*</span>
              </label>
              <div class="input-wrapper">
                <i class="fas fa-tag input-icon"></i>
                <input type="text" 
                       name="subject" 
                       class="form-input" 
                       placeholder="How can we help?" 
                       required 
                       minlength="3" />
                <div class="input-highlight"></div>
                <div class="validation-icons">
                  <i class="fas fa-check-circle valid-icon"></i>
                  <i class="fas fa-exclamation-circle invalid-icon"></i>
                </div>
              </div>
              <span class="error-message">Please enter a subject (min. 3 characters)</span>
            </div>

            <div class="form-group">
              <label class="form-label">
                Message <span class="required">*</span>
              </label>
              <div class="input-wrapper textarea-wrapper">
                <i class="fas fa-comment-dots input-icon"></i>
                <textarea name="message" 
                          class="form-input" 
                          rows="5" 
                          placeholder="Tell us more about your inquiry..." 
                          required 
                          minlength="10"></textarea>
                <div class="input-highlight"></div>
                <div class="validation-icons">
                  <i class="fas fa-check-circle valid-icon"></i>
                  <i class="fas fa-exclamation-circle invalid-icon"></i>
                </div>
              </div>
              <span class="error-message">Please enter your message (min. 10 characters)</span>
              <div class="char-counter">0/500</div>
            </div>

            <button type="submit" class="btn-submit">
              <div class="spinner"></div>
              <span class="btn-text">
                <i class="fas fa-paper-plane"></i>
                <span>Send Message</span>
              </span>
              <div class="btn-glow"></div>
            </button>
          </form>

          <!-- Trust indicators -->
          <div class="form-footer">
            <div class="trust-badge">
              <i class="fas fa-shield-alt"></i>
              <span>Your data is secure</span>
            </div>
            <div class="response-time">
              <i class="fas fa-bolt"></i>
              <span>Avg. response: 2h</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <div id="footer-placeholder"></div>
  
  <!-- Scripts -->
  <script src="../scripts/components/footer-loader.js"></script>
  <script src="../scripts/components/cursor.js"></script>
  <script src="../scripts/auth/guard.js"></script>
  <script src="../scripts/components/navigation.js"></script>
  
  <script>
    // ==================== GSAP ANIMATIONS ====================
    gsap.registerPlugin(ScrollTrigger);

    document.addEventListener('DOMContentLoaded', () => {
      // Initial page load animation
      const tl = gsap.timeline({
        defaults: {
          ease: "power3.out"
        }
      });

      // Header animation
      tl.from('.contact-header', {
        y: 50,
        opacity: 0,
        duration: 1,
        clearProps: "all"
      })
      .from('.header-badge', {
        scale: 0,
        opacity: 0,
        duration: 0.8,
        ease: "back.out(1.7)"
      }, "-=0.5")
      .from('.title-line', {
        y: 60,
        opacity: 0,
        duration: 1,
        stagger: 0.2,
        ease: "power4.out"
      }, "-=0.3")
      .from('.hero-subtitle', {
        y: 30,
        opacity: 0,
        duration: 0.8
      }, "-=0.5")
      .from('.header-decoration .decoration-dot', {
        scale: 0,
        opacity: 0,
        duration: 0.6,
        stagger: 0.1
      }, "-=0.3");

      // Cards animation with stagger
      gsap.from('.info-card', {
        scrollTrigger: {
          trigger: '.contact-info-col',
          start: 'top 80%',
          toggleActions: 'play none none reverse'
        },
        x: -50,
        opacity: 0,
        duration: 0.8,
        stagger: 0.15,
        ease: "back.out(1.2)"
      });

      // Card icons animation
      gsap.from('.card-icon', {
        scrollTrigger: {
          trigger: '.info-card',
          start: 'top 80%'
        },
        scale: 0,
        rotation: -180,
        duration: 0.8,
        stagger: 0.2,
        ease: "elastic.out(1, 0.5)"
      });

      // Form animation
      gsap.from('.contact-form-col', {
        scrollTrigger: {
          trigger: '.contact-form-col',
          start: 'top 80%',
          toggleActions: 'play none none reverse'
        },
        x: 50,
        opacity: 0,
        duration: 1,
        ease: "power3.out"
      });

      // Form groups stagger
      gsap.from('.form-group', {
        scrollTrigger: {
          trigger: '.premium-form',
          start: 'top 80%'
        },
        y: 30,
        opacity: 0,
        duration: 0.6,
        stagger: 0.1,
        ease: "power2.out"
      });

      // Social links animation
      gsap.from('.social-link', {
        scrollTrigger: {
          trigger: '.social-grid',
          start: 'top 90%'
        },
        scale: 0,
        opacity: 0,
        duration: 0.5,
        stagger: 0.1,
        ease: "back.out(1.7)"
      });

      // Continuous animations
      gsap.to('.card-icon', {
        y: -5,
        duration: 2,
        repeat: -1,
        yoyo: true,
        ease: "sine.inOut"
      });

      gsap.to('.status-dot', {
        scale: 1.2,
        opacity: 0.8,
        duration: 1,
        repeat: -1,
        yoyo: true,
        ease: "sine.inOut"
      });

      gsap.to('.btn-submit', {
        boxShadow: '0 10px 30px rgba(0, 229, 255, 0.3)',
        duration: 2,
        repeat: -1,
        yoyo: true,
        ease: "sine.inOut"
      });
    });

    // ==================== FORM HANDLING ====================
    const contactForm = document.getElementById('contactForm');
    const formInputs = contactForm.querySelectorAll('.form-input');
    const submitBtn = contactForm.querySelector('.btn-submit');
    const messageBox = document.getElementById('messageBox');
    const messageText = document.getElementById('messageText');
    const charCounter = document.querySelector('.char-counter');
    const messageField = document.querySelector('textarea[name="message"]');

    // Character counter
    if (messageField && charCounter) {
      messageField.addEventListener('input', function() {
        const length = this.value.length;
        charCounter.textContent = `${length}/500`;
        
        // Change color as limit approaches
        if (length > 450) {
          charCounter.style.color = '#ff6b6b';
        } else if (length > 400) {
          charCounter.style.color = '#fbbf24';
        } else {
          charCounter.style.color = 'var(--text-secondary)';
        }
      });
    }

    // Real-time validation with animation
    formInputs.forEach(input => {
      input.addEventListener('input', function() {
        validateField(this);
        
        // Add pulse animation on valid
        if (this.classList.contains('valid')) {
          gsap.fromTo(this.parentElement.querySelector('.valid-icon'),
            { scale: 0 },
            { scale: 1, duration: 0.3, ease: "back.out" }
          );
        }
      });
      
      input.addEventListener('focus', function() {
        this.parentElement.classList.add('focused');
      });
      
      input.addEventListener('blur', function() {
        this.parentElement.classList.remove('focused');
        validateField(this);
      });
    });

    function validateField(field) {
      const value = field.value.trim();
      const type = field.type;
      const minLength = field.minLength || 0;
      let isValid = false;
      
      if (type === 'email') {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        isValid = emailRegex.test(value);
      } else if (field.tagName === 'TEXTAREA') {
        isValid = value.length >= 10 && value.length <= 500;
      } else {
        isValid = value.length >= (minLength || 2);
      }
      
      const wrapper = field.parentElement;
      
      if (isValid) {
        field.classList.remove('invalid');
        field.classList.add('valid');
        wrapper.classList.add('valid');
        wrapper.classList.remove('invalid');
      } else if (value.length > 0) {
        field.classList.remove('valid');
        field.classList.add('invalid');
        wrapper.classList.add('invalid');
        wrapper.classList.remove('valid');
        
        // Shake animation on invalid
        gsap.to(field, {
          x: [-5, 5, -5, 5, 0],
          duration: 0.4,
          ease: "power2.inOut"
        });
      } else {
        field.classList.remove('valid', 'invalid');
        wrapper.classList.remove('valid', 'invalid');
      }
    }

    // Form submission
    contactForm.addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Validate all fields
      let allValid = true;
      formInputs.forEach(input => {
        validateField(input);
        if (!input.classList.contains('valid')) {
          allValid = false;
        }
      });
      
      if (!allValid) {
        showMessage('error', 'Please fill out all fields correctly.');
        
        // Scroll to first invalid field
        const firstInvalid = document.querySelector('.form-input.invalid');
        if (firstInvalid) {
          firstInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        return;
      }
      
      const formData = new FormData(this);
      
      // Show loading state
      submitBtn.classList.add('loading');
      submitBtn.disabled = true;
      messageBox.style.display = 'none';
      
      // Animate button
      gsap.to(submitBtn, {
        scale: 0.95,
        duration: 0.2,
        yoyo: true,
        repeat: 1
      });
      
      // Simulate form submission
      setTimeout(() => {
        // Success
        submitBtn.classList.remove('loading');
        submitBtn.disabled = false;
        
        showMessage('success', 'ðŸš€ Message sent successfully! We\'ll get back to you within 24 hours.');
        
        // Animate success
        gsap.to(messageBox, {
          scale: [1, 1.02, 1],
          duration: 0.5,
          ease: "back.out"
        });
        
        this.reset();
        
        // Clear validation states
        formInputs.forEach(input => {
          input.classList.remove('valid', 'invalid');
          input.parentElement.classList.remove('valid', 'invalid');
        });
        
        if (charCounter) {
          charCounter.textContent = '0/500';
          charCounter.style.color = 'var(--text-secondary)';
        }
        
        // Hide message after 5 seconds
        setTimeout(() => {
          gsap.to(messageBox, {
            opacity: 0,
            duration: 0.3,
            onComplete: () => {
              messageBox.style.display = 'none';
              messageBox.style.opacity = 1;
            }
          });
        }, 5000);
      }, 2000);
    });

    function showMessage(type, text) {
      messageBox.className = 'message-box ' + type;
      messageBox.style.display = 'flex';
      messageBox.style.opacity = '1';
      messageText.textContent = text;
      
      const icon = messageBox.querySelector('i');
      icon.className = type === 'success' ? 'fas fa-check-circle' : 'fas fa-exclamation-circle';
    }

    // ==================== THEME HANDLING ====================
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      
      // Animate theme change
      gsap.to('body', {
        opacity: 0.8,
        duration: 0.1,
        yoyo: true,
        repeat: 1,
        onComplete: () => {
          html.setAttribute('data-theme', newTheme);
          localStorage.setItem('theme', newTheme);
        }
      });
    }

    // Initialize theme
    const savedTheme = localStorage.getItem('theme') || 'dark';
    document.documentElement.setAttribute('data-theme', savedTheme);
  </script>
</body>

</html>